{"version":3,"sources":["tmp/js/components/cookie-functions.js","tmp/js/components/postcode.js","tmp/js/components/analytics.js","tmp/js/components/cookie-banner.js","tmp/js/app.js"],"names":["CONSENT_COOKIE_NAME","getCookie","name","cookieArr","document","cookie","split","i","length","cookiePair","trim","decodeURIComponent","areAnalyticsAccepted","consentCookie","console","log","INCODE_REGEX","POSTCODE_REGEX","SPACE_REGEX","sanitize","s","replace","toUpperCase","isValid","postcode","match","toOutcode","gtag","command","args","window","dataLayer","push","arguments","GaMeasurementId","initAnalytics","gaMeasurementId","Boolean","setDefaultConsent","loadGaScript","Date","pageViewParams","getPiiSafePageView","send_page_view","page_path","page_location","page_referrer","referrer","cookie_flags","updateAnalyticsStorageConsent","sendPageViewEvent","analytics_storage","granted","delayMs","options","f","getElementsByTagName","j","createElement","async","src","parentNode","insertBefore","pageView","page_title","title","send_to","piiSafeReferrerQueryString","getPiiSafeQueryString","URL","search","urlArray","piiSafeQueryString","location","href","pathname","queryString","queryParams","URLSearchParams","get","set","delete","toString","cookiesBanner","$cookiesBanner","$","$cookiesBannerMessage","$cookiesBannerConfirmation","$cookiesBannerAccepted","$cookiesBannerRejected","date","setTime","getTime","cookiesAccept","addClass","removeClass","prop","cookiesReject","deleteCookies","cookies","equals","indexOf","substr","cookie_value","click","is","animate","scrollTop","GA_MEASUREMENT_ID","fhgov","this","init","showHideFilters","evt","preventDefault","toggleClass","jQuery"],"mappings":"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","file":"app.js","sourcesContent":["/* Name of the cookie to save users cookie preferences to. */\nconst CONSENT_COOKIE_NAME = 'referral_cookies_policy';\nexport function getCookie(name) {\n    let cookieArr = document.cookie.split(\";\");\n    for (let i = 0; i < cookieArr.length; i++) {\n        let cookiePair = cookieArr[i].split(\"=\");\n        if (name == cookiePair[0].trim()) {\n            return decodeURIComponent(cookiePair[1]);\n        }\n    }\n}\nexport function areAnalyticsAccepted() {\n    var consentCookie = getCookie(CONSENT_COOKIE_NAME);\n    console.log(consentCookie);\n    if (consentCookie == 'accept') {\n        return true;\n    }\n    return false;\n}\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvY29va2llLWZ1bmN0aW9ucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2REFBNkQ7QUFDN0QsTUFBTSxtQkFBbUIsR0FBRyxrQ0FBa0MsQ0FBQztBQUUvRCxNQUFNLFVBQVUsU0FBUyxDQUFDLElBQVk7SUFDckMsSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDM0MsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDMUMsSUFBSSxVQUFVLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN6QyxJQUFJLElBQUksSUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUU7WUFDakMsT0FBTyxrQkFBa0IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN6QztLQUNEO0FBQ0YsQ0FBQztBQUVELE1BQU0sVUFBVSxvQkFBb0I7SUFDaEMsSUFBSSxhQUFhLEdBQUcsU0FBUyxDQUFDLG1CQUFtQixDQUFDLENBQUM7SUFDdEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUN4QixJQUFJLGFBQWEsSUFBSSxRQUFRLEVBQUU7UUFDM0IsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2pCLENBQUMiLCJmaWxlIjoiY29tcG9uZW50cy9jb29raWUtZnVuY3Rpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogTmFtZSBvZiB0aGUgY29va2llIHRvIHNhdmUgdXNlcnMgY29va2llIHByZWZlcmVuY2VzIHRvLiAqL1xuY29uc3QgQ09OU0VOVF9DT09LSUVfTkFNRSA9ICdzZXJ2aWNlX2RpcmVjdG9yeV9jb29raWVzX3BvbGljeSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb29raWUobmFtZTogc3RyaW5nKSB7XG5cdGxldCBjb29raWVBcnIgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoXCI7XCIpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGNvb2tpZUFyci5sZW5ndGg7IGkrKykge1xuXHRcdGxldCBjb29raWVQYWlyID0gY29va2llQXJyW2ldLnNwbGl0KFwiPVwiKTtcblx0XHRpZiAobmFtZSA9PSBjb29raWVQYWlyWzBdLnRyaW0oKSkge1xuXHRcdFx0cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChjb29raWVQYWlyWzFdKTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFyZUFuYWx5dGljc0FjY2VwdGVkKCk6IGJvb2xlYW4ge1xuICAgIHZhciBjb25zZW50Q29va2llID0gZ2V0Q29va2llKENPTlNFTlRfQ09PS0lFX05BTUUpO1xuXHRjb25zb2xlLmxvZyhjb25zZW50Q29va2llKTtcbiAgICBpZiAoY29uc2VudENvb2tpZSA9PSAnYWNjZXB0Jykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IFxuXG4gICAgcmV0dXJuIGZhbHNlO1xufSJdfQ==\n","// from https://github.com/ideal-postcodes/postcode\n/**\n * @hidden\n */\nexport const DISTRICT_SPLIT_REGEX = /^([a-z]{1,2}\\d)([a-z])$/i;\n/**\n * Tests for the unit section of a postcode\n */\nexport const UNIT_REGEX = /[a-z]{2}$/i;\n/**\n * Tests for the inward code section of a postcode\n */\nexport const INCODE_REGEX = /\\d[a-z]{2}$/i;\n/**\n * Tests for the outward code section of a postcode\n */\nexport const OUTCODE_REGEX = /^[a-z]{1,2}\\d[a-z\\d]?$/i;\n/**\n * Tests for a valid postcode\n */\nexport const POSTCODE_REGEX = /^[a-z]{1,2}\\d[a-z\\d]?\\s*\\d[a-z]{2}$/i;\n/**\n * Test for a valid postcode embedded in text\n */\nexport const POSTCODE_CORPUS_REGEX = /[a-z]{1,2}\\d[a-z\\d]?\\s*\\d[a-z]{2}/gi;\n/**\n * Tests for the area section of a postcode\n */\nexport const AREA_REGEX = /^[a-z]{1,2}/i;\n/**\n * Invalid postcode prototype\n * @hidden\n */\nconst invalidPostcode = {\n    valid: false,\n    postcode: null,\n    incode: null,\n    outcode: null,\n    area: null,\n    district: null,\n    subDistrict: null,\n    sector: null,\n    unit: null,\n};\n/**\n * Return first elem of input is RegExpMatchArray or null if input null\n * @hidden\n */\nconst firstOrNull = (match) => {\n    if (match === null)\n        return null;\n    return match[0];\n};\nconst SPACE_REGEX = /\\s+/gi;\n/**\n * Drop all spaces and uppercase\n * @hidden\n */\nconst sanitize = (s) => s.replace(SPACE_REGEX, \"\").toUpperCase();\n/**\n * Sanitizes string and returns regex matches\n * @hidden\n */\nconst matchOn = (s, regex) => sanitize(s).match(regex);\n/**\n * Detects a \"valid\" postcode\n * - Starts and ends on a non-space character\n * - Any length of intervening space is allowed\n * - Must conform to one of following schemas:\n *  - AA1A 1AA\n *  - A1A 1AA\n *  - A1 1AA\n *  - A99 9AA\n *  - AA9 9AA\n *  - AA99 9AA\n */\nexport const isValid = (postcode) => postcode.match(POSTCODE_REGEX) !== null;\n/**\n * Returns true if string is a valid outcode\n */\nexport const validOutcode = (outcode) => outcode.match(OUTCODE_REGEX) !== null;\n/**\n * Returns a normalised postcode string (i.e. uppercased and properly spaced)\n *\n * Returns null if invalid postcode\n */\nexport const toNormalised = (postcode) => {\n    const outcode = toOutcode(postcode);\n    if (outcode === null)\n        return null;\n    const incode = toIncode(postcode);\n    if (incode === null)\n        return null;\n    return `${outcode} ${incode}`;\n};\n/**\n * Returns a correctly formatted outcode given a postcode\n *\n * Returns null if invalid postcode\n */\nexport const toOutcode = (postcode) => {\n    if (!isValid(postcode))\n        return null;\n    return sanitize(postcode).replace(INCODE_REGEX, \"\");\n};\n/**\n * Returns a correctly formatted incode given a postcode\n *\n * Returns null if invalid postcode\n */\nexport const toIncode = (postcode) => {\n    if (!isValid(postcode))\n        return null;\n    const match = matchOn(postcode, INCODE_REGEX);\n    return firstOrNull(match);\n};\n/**\n * Returns a correctly formatted area given a postcode\n *\n * Returns null if invalid postcode\n */\nexport const toArea = (postcode) => {\n    if (!isValid(postcode))\n        return null;\n    const match = matchOn(postcode, AREA_REGEX);\n    return firstOrNull(match);\n};\n/**\n * Returns a correctly formatted sector given a postcode\n *\n * Returns null if invalid postcode\n */\nexport const toSector = (postcode) => {\n    const outcode = toOutcode(postcode);\n    if (outcode === null)\n        return null;\n    const incode = toIncode(postcode);\n    if (incode === null)\n        return null;\n    return `${outcode} ${incode[0]}`;\n};\n/**\n * Returns a correctly formatted unit given a postcode\n *\n * Returns null if invalid postcode\n */\nexport const toUnit = (postcode) => {\n    if (!isValid(postcode))\n        return null;\n    const match = matchOn(postcode, UNIT_REGEX);\n    return firstOrNull(match);\n};\n/**\n * Returns a correctly formatted district given a postcode\n *\n * Returns null if invalid postcode\n *\n * @example\n *\n * ```\n * toDistrict(\"AA9 9AA\") // => \"AA9\"\n * toDistrict(\"A9A 9AA\") // => \"A9\"\n * ```\n */\nexport const toDistrict = (postcode) => {\n    const outcode = toOutcode(postcode);\n    if (outcode === null)\n        return null;\n    const match = outcode.match(DISTRICT_SPLIT_REGEX);\n    if (match === null)\n        return outcode;\n    return match[1];\n};\n/**\n * Returns a correctly formatted subdistrict given a postcode\n *\n * Returns null if no subdistrict is available on valid postcode\n * Returns null if invalid postcode\n *\n * @example\n *\n * ```\n * toSubDistrict(\"AA9A 9AA\") // => \"AA9A\"\n * toSubDistrict(\"A9A 9AA\") // => \"A9A\"\n * toSubDistrict(\"AA9 9AA\") // => null\n * toSubDistrict(\"A9 9AA\") // => null\n * ```\n */\nexport const toSubDistrict = (postcode) => {\n    const outcode = toOutcode(postcode);\n    if (outcode === null)\n        return null;\n    const split = outcode.match(DISTRICT_SPLIT_REGEX);\n    if (split === null)\n        return null;\n    return outcode;\n};\n/**\n * Returns a ValidPostcode or InvalidPostcode object from a postcode string\n *\n * @example\n *\n * ```\n * import { parse } from \"postcode\";\n *\n * const {\n * postcode,    // => \"SW1A 2AA\"\n * outcode,     // => \"SW1A\"\n * incode,      // => \"2AA\"\n * area,        // => \"SW\"\n * district,    // => \"SW1\"\n * unit,        // => \"AA\"\n * sector,      // => \"SW1A 2\"\n * subDistrict, // => \"SW1A\"\n * valid,       // => true\n * } = parse(\"Sw1A     2aa\");\n *\n * const {\n * postcode,    // => null\n * outcode,     // => null\n * incode,      // => null\n * area,        // => null\n * district,    // => null\n * unit,        // => null\n * sector,      // => null\n * subDistrict, // => null\n * valid,       // => false\n * } = parse(\"    Oh no, ):   \");\n * ```\n */\nexport const parse = (postcode) => {\n    if (!isValid(postcode))\n        return Object.assign({}, invalidPostcode);\n    return {\n        valid: true,\n        postcode: toNormalised(postcode),\n        incode: toIncode(postcode),\n        outcode: toOutcode(postcode),\n        area: toArea(postcode),\n        district: toDistrict(postcode),\n        subDistrict: toSubDistrict(postcode),\n        sector: toSector(postcode),\n        unit: toUnit(postcode),\n    };\n};\n/**\n * Searches a body of text for postcode matches\n *\n * Returns an empty array if no match\n *\n * @example\n *\n * ```\n * // Retrieve valid postcodes in a body of text\n * const matches = match(\"The PM and her no.2 live at SW1A2aa and SW1A 2AB\"); // => [\"SW1A2aa\", \"SW1A 2AB\"]\n *\n * // Perform transformations like normalisation postcodes using `.map` and `toNormalised`\n * matches.map(toNormalised); // => [\"SW1A 2AA\", \"SW1A 2AB\"]\n *\n * // No matches yields empty array\n * match(\"Some London outward codes are SW1A, NW1 and E1\"); // => []\n * ```\n */\nexport const match = (corpus) => corpus.match(POSTCODE_CORPUS_REGEX) || [];\n/**\n * Replaces postcodes in a body of text with a string\n *\n * By default the replacement string is empty string `\"\"`\n *\n * @example\n *\n * ```\n * // Replace postcodes in a body of text\n * replace(\"The PM and her no.2 live at SW1A2AA and SW1A 2AB\");\n * // => { match: [\"SW1A2AA\", \"SW1A 2AB\"], result: \"The PM and her no.2 live at  and \" }\n *\n * // Add custom replacement\n * replace(\"The PM lives at SW1A 2AA\", \"Downing Street\");\n * // => { match: [\"SW1A 2AA\"], result: \"The PM lives at Downing Street\" };\n *\n * // No match\n * replace(\"Some London outward codes are SW1A, NW1 and E1\");\n * // => { match: [], result: \"Some London outward codes are SW1A, NW1 and E1\" }\n * ```\n */\nexport const replace = (corpus, replaceWith = \"\") => ({\n    match: match(corpus),\n    result: corpus.replace(POSTCODE_CORPUS_REGEX, replaceWith),\n});\nexport const FIXABLE_REGEX = /^\\s*[a-z01]{1,2}[0-9oi][a-z\\d]?\\s*[0-9oi][a-z01]{2}\\s*$/i;\n/**\n * Attempts to fix and clean a postcode. Specifically:\n * - Performs character conversion on obviously wrong and commonly mixed up letters (e.g. O => 0 and vice versa)\n * - Trims string\n * - Properly adds space between outward and inward codes\n *\n * If the postcode cannot be coerced into a valid format, the original string is returned\n *\n * @example\n * ```javascript\n * fix(\" SW1A  2AO\") => \"SW1A 2AO\" // Properly spaces\n * fix(\"SW1A 2A0\") => \"SW1A 2AO\" // 0 is coerced into \"0\"\n * ```\n *\n * Aims to be used in conjunction with parse to make postcode entry more forgiving:\n *\n * @example\n * ```javascript\n * const { inward } = parse(fix(\"SW1A 2A0\")); // inward = \"2AO\"\n * ```\n */\nexport const fix = (s) => {\n    const match = s.match(FIXABLE_REGEX);\n    if (match === null)\n        return s;\n    s = s.toUpperCase().trim().replace(/\\s+/gi, \"\");\n    const l = s.length;\n    const inward = s.slice(l - 3, l);\n    return `${coerceOutcode(s.slice(0, l - 3))} ${coerce(\"NLL\", inward)}`;\n};\nconst toLetter = {\n    \"0\": \"O\",\n    \"1\": \"I\",\n};\nconst toNumber = {\n    O: \"0\",\n    I: \"1\",\n};\nconst coerceOutcode = (i) => {\n    if (i.length === 2)\n        return coerce(\"LN\", i);\n    if (i.length === 3)\n        return coerce(\"L??\", i);\n    if (i.length === 4)\n        return coerce(\"LLN?\", i);\n    return i;\n};\n/**\n * Given a pattern of letters, numbers and unknowns represented as a sequence\n * of L, Ns and ? respectively; coerce them into the correct type given a\n * mapping of potentially confused letters\n *\n * @hidden\n *\n * @example coerce(\"LLN\", \"0O8\") => \"OO8\"\n */\nconst coerce = (pattern, input) => input\n    .split(\"\")\n    .reduce((acc, c, i) => {\n    const target = pattern.charAt(i);\n    if (target === \"N\")\n        acc.push(toNumber[c] || c);\n    if (target === \"L\")\n        acc.push(toLetter[c] || c);\n    if (target === \"?\")\n        acc.push(c);\n    return acc;\n}, [])\n    .join(\"\");\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvcG9zdGNvZGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsbURBQW1EO0FBRW5EOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsMEJBQTBCLENBQUM7QUFDL0Q7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsWUFBWSxDQUFDO0FBQ3ZDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLGNBQWMsQ0FBQztBQUMzQzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyx5QkFBeUIsQ0FBQztBQUN2RDs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxzQ0FBc0MsQ0FBQztBQUVyRTs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUFHLHFDQUFxQyxDQUFDO0FBRTNFOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLGNBQWMsQ0FBQztBQWdEekM7OztHQUdHO0FBQ0gsTUFBTSxlQUFlLEdBQW9CO0lBQ3JDLEtBQUssRUFBRSxLQUFLO0lBQ1osUUFBUSxFQUFFLElBQUk7SUFDZCxNQUFNLEVBQUUsSUFBSTtJQUNaLE9BQU8sRUFBRSxJQUFJO0lBQ2IsSUFBSSxFQUFFLElBQUk7SUFDVixRQUFRLEVBQUUsSUFBSTtJQUNkLFdBQVcsRUFBRSxJQUFJO0lBQ2pCLE1BQU0sRUFBRSxJQUFJO0lBQ1osSUFBSSxFQUFFLElBQUk7Q0FDYixDQUFDO0FBRUY7OztHQUdHO0FBQ0gsTUFBTSxXQUFXLEdBQUcsQ0FBQyxLQUE4QixFQUFpQixFQUFFO0lBQ2xFLElBQUksS0FBSyxLQUFLLElBQUk7UUFBRSxPQUFPLElBQUksQ0FBQztJQUNoQyxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwQixDQUFDLENBQUM7QUFFRixNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUM7QUFFNUI7OztHQUdHO0FBQ0gsTUFBTSxRQUFRLEdB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RyxDQUFDLE9BQWUsRUFBRSxLQUFhLEVBQVUsRUFBRSxDQUN0RCxLQUFLO0tBQ0EsS0FBSyxDQUFDLEVBQUUsQ0FBQztLQUNULE1BQU0sQ0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDNUIsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqQyxJQUFJLE1BQU0sS0FBSyxHQUFHO1FBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDL0MsSUFBSSxNQUFNLEtBQUssR0FBRztRQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQy9DLElBQUksTUFBTSxLQUFLLEdBQUc7UUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQyxFQUFFLEVBQUUsQ0FBQztLQUNMLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyIsImZpbGUiOiJjb21wb25lbnRzL3Bvc3Rjb2RlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vaWRlYWwtcG9zdGNvZGVzL3Bvc3Rjb2RlXG5cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgY29uc3QgRElTVFJJQ1RfU1BMSVRfUkVHRVggPSAvXihbYS16XXsxLDJ9XFxkKShbYS16XSkkL2k7XG4vKipcbiAqIFRlc3RzIGZvciB0aGUgdW5pdCBzZWN0aW9uIG9mIGEgcG9zdGNvZGVcbiAqL1xuZXhwb3J0IGNvbnN0IFVOSVRfUkVHRVggPSAvW2Etel17Mn0kL2k7XG4vKipcbiAqIFRlc3RzIGZvciB0aGUgaW53YXJkIGNvZGUgc2VjdGlvbiBvZiBhIHBvc3Rjb2RlXG4gKi9cbmV4cG9ydCBjb25zdCBJTkNPREVfUkVHRVggPSAvXFxkW2Etel17Mn0kL2k7XG4vKipcbiAqIFRlc3RzIGZvciB0aGUgb3V0d2FyZCBjb2RlIHNlY3Rpb24gb2YgYSBwb3N0Y29kZVxuICovXG5leHBvcnQgY29uc3QgT1VUQ09ERV9SRUdFWCA9IC9eW2Etel17MSwyfVxcZFthLXpcXGRdPyQvaTtcbi8qKlxuICogVGVzdHMgZm9yIGEgdmFsaWQgcG9zdGNvZGVcbiAqL1xuZXhwb3J0IGNvbnN0IFBPU1RDT0RFX1JFR0VYID0gL15bYS16XXsxLDJ9XFxkW2EtelxcZF0/XFxzKlxcZFthLXpdezJ9JC9pO1xuXG4vKipcbiAqIFRlc3QgZm9yIGEgdmFsaWQgcG9zdGNvZGUgZW1iZWRkZWQgaW4gdGV4dFxuICovXG5leHBvcnQgY29uc3QgUE9TVENPREVfQ09SUFVTX1JFR0VYID0gL1thLXpdezEsMn1cXGRbYS16XFxkXT9cXHMqXFxkW2Etel17Mn0vZ2k7XG5cbi8qKlxuICogVGVzdHMgZm9yIHRoZSBhcmVhIHNlY3Rpb24gb2YgYSBwb3N0Y29kZVxuICovXG5leHBvcnQgY29uc3QgQVJFQV9SRUdFWCA9IC9eW2Etel17MSwyfS9pO1xuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuaW50ZXJmYWNlIFZhbGlkYXRvciB7XG4gICAgKGlucHV0OiBzdHJpbmcpOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuaW50ZXJmYWNlIFBhcnNlciB7XG4gICAgLyoqXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIChwb3N0Y29kZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgdmFsaWQgcG9zdGNvZGVcbiAqXG4gKiBOb3RlIHRoYXQgcmVzdWx0cyB3aWxsIGJlIG5vcm1hbGlzZWQgKGkuZS4gY29ycmVjdGx5IGZvcm1hdHRlZCksIGluY2x1ZGluZyBgcG9zdGNvZGVgXG4gKi9cbnR5cGUgVmFsaWRQb3N0Y29kZSA9IHtcbiAgICB2YWxpZDogdHJ1ZTtcbiAgICBwb3N0Y29kZTogc3RyaW5nO1xuICAgIGluY29kZTogc3RyaW5nO1xuICAgIG91dGNvZGU6IHN0cmluZztcbiAgICBhcmVhOiBzdHJpbmc7XG4gICAgZGlzdHJpY3Q6IHN0cmluZztcbiAgICBzdWJEaXN0cmljdDogc3RyaW5nIHwgbnVsbDtcbiAgICBzZWN0b3I6IHN0cmluZztcbiAgICB1bml0OiBzdHJpbmc7XG59O1xuXG50eXBlIEludmFsaWRQb3N0Y29kZSA9IHtcbiAgICB2YWxpZDogZmFsc2U7XG4gICAgcG9zdGNvZGU6IG51bGw7XG4gICAgaW5jb2RlOiBudWxsO1xuICAgIG91dGNvZGU6IG51bGw7XG4gICAgYXJlYTogbnVsbDtcbiAgICBkaXN0cmljdDogbnVsbDtcbiAgICBzdWJEaXN0cmljdDogbnVsbDtcbiAgICBzZWN0b3I6IG51bGw7XG4gICAgdW5pdDogbnVsbDtcbn07XG5cbi8qKlxuICogSW52YWxpZCBwb3N0Y29kZSBwcm90b3R5cGVcbiAqIEBoaWRkZW5cbiAqL1xuY29uc3QgaW52YWxpZFBvc3Rjb2RlOiBJbnZhbGlkUG9zdGNvZGUgPSB7XG4gICAgdmFsaWQ6IGZhbHNlLFxuICAgIHBvc3Rjb2RlOiBudWxsLFxuICAgIGluY29kZTogbnVsbCxcbiAgICBvdXRjb2RlOiBudWxsLFxuICAgIGFyZWE6IG51bGwsXG4gICAgZGlzdHJpY3Q6IG51bGwsXG4gICAgc3ViRGlzdHJpY3Q6IG51bGwsXG4gICAgc2VjdG9yOiBudWxsLFxuICAgIHVuaXQ6IG51bGwsXG59O1xuXG4vKipcbiAqIFJldHVybiBmaXJzdCBlbGVtIG9mIGlucHV0IGlzIFJlZ0V4cE1hdGNoQXJyYXkgb3IgbnVsbCBpZiBpbnB1dCBudWxsXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IGZpcnN0T3JOdWxsID0gKG1hdGNoOiBSZWdFeHBNYXRjaEFycmF5IHwgbnVsbCk6IHN0cmluZyB8IG51bGwgPT4ge1xuICAgIGlmIChtYXRjaCA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIG1hdGNoWzBdO1xufTtcblxuY29uc3QgU1BBQ0VfUkVHRVggPSAvXFxzKy9naTtcblxuLyoqXG4gKiBEcm9wIGFsbCBzcGFjZXMgYW5kIHVwcGVyY2FzZVxuICogQGhpZGRlblxuICovXG5jb25zdCBzYW5pdGl6ZSA9IChzOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgICBzLnJlcGxhY2UoU1BBQ0VfUkVHRVgsIFwiXCIpLnRvVXBwZXJDYXNlKCk7XG5cbi8qKlxuICogU2FuaXRpemVzIHN0cmluZyBhbmQgcmV0dXJucyByZWdleCBtYXRjaGVzXG4gKiBAaGlkZGVuXG4gKi9cbmNvbnN0IG1hdGNoT24gPSAoczogc3RyaW5nLCByZWdleDogUmVnRXhwKTogUmVnRXhwTWF0Y2hBcnJheSB8IG51bGwgPT5cbiAgICBzYW5pdGl6ZShzKS5tYXRjaChyZWdleCk7XG5cbi8qKlxuICogRGV0ZWN0cyBhIFwidmFsaWRcIiBwb3N0Y29kZVxuICogLSBTdGFydHMgYW5kIGVuZHMgb24gYSBub24tc3BhY2UgY2hhcmFjdGVyXG4gKiAtIEFueSBsZW5ndGggb2YgaW50ZXJ2ZW5pbmcgc3BhY2UgaXMgYWxsb3dlZFxuICogLSBNdXN0IGNvbmZvcm0gdG8gb25lIG9mIGZvbGxvd2luZyBzY2hlbWFzOlxuICogIC0gQUExQSAxQUFcbiAqICAtIEExQSAxQUFcbiAqICAtIEExIDFBQVxuICogIC0gQTk5IDlBQVxuICogIC0gQUE5IDlBQVxuICogIC0gQUE5OSA5QUFcbiAqL1xuZXhwb3J0IGNvbnN0IGlzVmFsaWQ6IFZhbGlkYXRvciA9IChwb3N0Y29kZSkgPT5cbiAgICBwb3N0Y29kZS5tYXRjaChQT1NUQ09ERV9SRUdFWCkgIT09IG51bGw7XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHN0cmluZyBpcyBhIHZhbGlkIG91dGNvZGVcbiAqL1xuZXhwb3J0IGNvbnN0IHZhbGlkT3V0Y29kZTogVmFsaWRhdG9yID0gKG91dGNvZGUpID0+XG4gICAgb3V0Y29kZS5tYXRjaChPVVRDT0RFX1JFR0VYKSAhPT0gbnVsbDtcblxuLyoqXG4gKiBSZXR1cm5zIGEgbm9ybWFsaXNlZCBwb3N0Y29kZSBzdHJpbmcgKGkuZS4gdXBwZXJjYXNlZCBhbmQgcHJvcGVybHkgc3BhY2VkKVxuICpcbiAqIFJldHVybnMgbnVsbCBpZiBpbnZhbGlkIHBvc3Rjb2RlXG4gKi9cbmV4cG9ydCBjb25zdCB0b05vcm1hbGlzZWQ6IFBhcnNlciA9IChwb3N0Y29kZSkgPT4ge1xuICAgIGNvbnN0IG91dGNvZGUgPSB0b091dGNvZGUocG9zdGNvZGUpO1xuICAgIGlmIChvdXRjb2RlID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBpbmNvZGUgPSB0b0luY29kZShwb3N0Y29kZSk7XG4gICAgaWYgKGluY29kZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGAke291dGNvZGV9ICR7aW5jb2RlfWA7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBjb3JyZWN0bHkgZm9ybWF0dGVkIG91dGNvZGUgZ2l2ZW4gYSBwb3N0Y29kZVxuICpcbiAqIFJldHVybnMgbnVsbCBpZiBpbnZhbGlkIHBvc3Rjb2RlXG4gKi9cbmV4cG9ydCBjb25zdCB0b091dGNvZGU6IFBhcnNlciA9IChwb3N0Y29kZSkgPT4ge1xuICAgIGlmICghaXNWYWxpZChwb3N0Y29kZSkpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBzYW5pdGl6ZShwb3N0Y29kZSkucmVwbGFjZShJTkNPREVfUkVHRVgsIFwiXCIpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgY29ycmVjdGx5IGZvcm1hdHRlZCBpbmNvZGUgZ2l2ZW4gYSBwb3N0Y29kZVxuICpcbiAqIFJldHVybnMgbnVsbCBpZiBpbnZhbGlkIHBvc3Rjb2RlXG4gKi9cbmV4cG9ydCBjb25zdCB0b0luY29kZTogUGFyc2VyID0gKHBvc3Rjb2RlKSA9PiB7XG4gICAgaWYgKCFpc1ZhbGlkKHBvc3Rjb2RlKSkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgbWF0Y2ggPSBtYXRjaE9uKHBvc3Rjb2RlLCBJTkNPREVfUkVHRVgpO1xuICAgIHJldHVybiBmaXJzdE9yTnVsbChtYXRjaCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBjb3JyZWN0bHkgZm9ybWF0dGVkIGFyZWEgZ2l2ZW4gYSBwb3N0Y29kZVxuICpcbiAqIFJldHVybnMgbnVsbCBpZiBpbnZhbGlkIHBvc3Rjb2RlXG4gKi9cbmV4cG9ydCBjb25zdCB0b0FyZWE6IFBhcnNlciA9IChwb3N0Y29kZSkgPT4ge1xuICAgIGlmICghaXNWYWxpZChwb3N0Y29kZSkpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG1hdGNoID0gbWF0Y2hPbihwb3N0Y29kZSwgQVJFQV9SRUdFWCk7XG4gICAgcmV0dXJuIGZpcnN0T3JOdWxsKG1hdGNoKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIGNvcnJlY3RseSBmb3JtYXR0ZWQgc2VjdG9yIGdpdmVuIGEgcG9zdGNvZGVcbiAqXG4gKiBSZXR1cm5zIG51bGwgaWYgaW52YWxpZCBwb3N0Y29kZVxuICovXG5leHBvcnQgY29uc3QgdG9TZWN0b3I6IFBhcnNlciA9IChwb3N0Y29kZSkgPT4ge1xuICAgIGNvbnN0IG91dGNvZGUgPSB0b091dGNvZGUocG9zdGNvZGUpO1xuICAgIGlmIChvdXRjb2RlID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBpbmNvZGUgPSB0b0luY29kZShwb3N0Y29kZSk7XG4gICAgaWYgKGluY29kZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIGAke291dGNvZGV9ICR7aW5jb2RlWzBdfWA7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBjb3JyZWN0bHkgZm9ybWF0dGVkIHVuaXQgZ2l2ZW4gYSBwb3N0Y29kZVxuICpcbiAqIFJldHVybnMgbnVsbCBpZiBpbnZhbGlkIHBvc3Rjb2RlXG4gKi9cbmV4cG9ydCBjb25zdCB0b1VuaXQ6IFBhcnNlciA9IChwb3N0Y29kZSkgPT4ge1xuICAgIGlmICghaXNWYWxpZChwb3N0Y29kZSkpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IG1hdGNoID0gbWF0Y2hPbihwb3N0Y29kZSwgVU5JVF9SRUdFWCk7XG4gICAgcmV0dXJuIGZpcnN0T3JOdWxsKG1hdGNoKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIGNvcnJlY3RseSBmb3JtYXR0ZWQgZGlzdHJpY3QgZ2l2ZW4gYSBwb3N0Y29kZVxuICpcbiAqIFJldHVybnMgbnVsbCBpZiBpbnZhbGlkIHBvc3Rjb2RlXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIHRvRGlzdHJpY3QoXCJBQTkgOUFBXCIpIC8vID0+IFwiQUE5XCJcbiAqIHRvRGlzdHJpY3QoXCJBOUEgOUFBXCIpIC8vID0+IFwiQTlcIlxuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCB0b0Rpc3RyaWN0OiBQYXJzZXIgPSAocG9zdGNvZGUpID0+IHtcbiAgICBjb25zdCBvdXRjb2RlID0gdG9PdXRjb2RlKHBvc3Rjb2RlKTtcbiAgICBpZiAob3V0Y29kZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgbWF0Y2ggPSBvdXRjb2RlLm1hdGNoKERJU1RSSUNUX1NQTElUX1JFR0VYKTtcbiAgICBpZiAobWF0Y2ggPT09IG51bGwpIHJldHVybiBvdXRjb2RlO1xuICAgIHJldHVybiBtYXRjaFsxXTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIGNvcnJlY3RseSBmb3JtYXR0ZWQgc3ViZGlzdHJpY3QgZ2l2ZW4gYSBwb3N0Y29kZVxuICpcbiAqIFJldHVybnMgbnVsbCBpZiBubyBzdWJkaXN0cmljdCBpcyBhdmFpbGFibGUgb24gdmFsaWQgcG9zdGNvZGVcbiAqIFJldHVybnMgbnVsbCBpZiBpbnZhbGlkIHBvc3Rjb2RlXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqIHRvU3ViRGlzdHJpY3QoXCJBQTlBIDlBQVwiKSAvLyA9PiBcIkFBOUFcIlxuICogdG9TdWJEaXN0cmljdChcIkE5QSA5QUFcIikgLy8gPT4gXCJBOUFcIlxuICogdG9TdWJEaXN0cmljdChcIkFBOSA5QUFcIikgLy8gPT4gbnVsbFxuICogdG9TdWJEaXN0cmljdChcIkE5IDlBQVwiKSAvLyA9PiBudWxsXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IHRvU3ViRGlzdHJpY3Q6IFBhcnNlciA9IChwb3N0Y29kZSkgPT4ge1xuICAgIGNvbnN0IG91dGNvZGUgPSB0b091dGNvZGUocG9zdGNvZGUpO1xuICAgIGlmIChvdXRjb2RlID09PSBudWxsKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBzcGxpdCA9IG91dGNvZGUubWF0Y2goRElTVFJJQ1RfU1BMSVRfUkVHRVgpO1xuICAgIGlmIChzcGxpdCA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIG91dGNvZGU7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBWYWxpZFBvc3Rjb2RlIG9yIEludmFsaWRQb3N0Y29kZSBvYmplY3QgZnJvbSBhIHBvc3Rjb2RlIHN0cmluZ1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgXG4gKiBpbXBvcnQgeyBwYXJzZSB9IGZyb20gXCJwb3N0Y29kZVwiO1xuICpcbiAqIGNvbnN0IHtcbiAqIHBvc3Rjb2RlLCAgICAvLyA9PiBcIlNXMUEgMkFBXCJcbiAqIG91dGNvZGUsICAgICAvLyA9PiBcIlNXMUFcIlxuICogaW5jb2RlLCAgICAgIC8vID0+IFwiMkFBXCJcbiAqIGFyZWEsICAgICAgICAvLyA9PiBcIlNXXCJcbiAqIGRpc3RyaWN0LCAgICAvLyA9PiBcIlNXMVwiXG4gKiB1bml0LCAgICAgICAgLy8gPT4gXCJBQVwiXG4gKiBzZWN0b3IsICAgICAgLy8gPT4gXCJTVzFBIDJcIlxuICogc3ViRGlzdHJpY3QsIC8vID0+IFwiU1cxQVwiXG4gKiB2YWxpZCwgICAgICAgLy8gPT4gdHJ1ZVxuICogfSA9IHBhcnNlKFwiU3cxQSAgICAgMmFhXCIpO1xuICpcbiAqIGNvbnN0IHtcbiAqIHBvc3Rjb2RlLCAgICAvLyA9PiBudWxsXG4gKiBvdXRjb2RlLCAgICAgLy8gPT4gbnVsbFxuICogaW5jb2RlLCAgICAgIC8vID0+IG51bGxcbiAqIGFyZWEsICAgICAgICAvLyA9PiBudWxsXG4gKiBkaXN0cmljdCwgICAgLy8gPT4gbnVsbFxuICogdW5pdCwgICAgICAgIC8vID0+IG51bGxcbiAqIHNlY3RvciwgICAgICAvLyA9PiBudWxsXG4gKiBzdWJEaXN0cmljdCwgLy8gPT4gbnVsbFxuICogdmFsaWQsICAgICAgIC8vID0+IGZhbHNlXG4gKiB9ID0gcGFyc2UoXCIgICAgT2ggbm8sICk6ICAgXCIpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCBwYXJzZSA9IChwb3N0Y29kZTogc3RyaW5nKTogVmFsaWRQb3N0Y29kZSB8IEludmFsaWRQb3N0Y29kZSA9PiB7XG4gICAgaWYgKCFpc1ZhbGlkKHBvc3Rjb2RlKSkgcmV0dXJuIHsgLi4uaW52YWxpZFBvc3Rjb2RlIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICAgIHBvc3Rjb2RlOiB0b05vcm1hbGlzZWQocG9zdGNvZGUpIGFzIHN0cmluZyxcbiAgICAgICAgaW5jb2RlOiB0b0luY29kZShwb3N0Y29kZSkgYXMgc3RyaW5nLFxuICAgICAgICBvdXRjb2RlOiB0b091dGNvZGUocG9zdGNvZGUpIGFzIHN0cmluZyxcbiAgICAgICAgYXJlYTogdG9BcmVhKHBvc3Rjb2RlKSBhcyBzdHJpbmcsXG4gICAgICAgIGRpc3RyaWN0OiB0b0Rpc3RyaWN0KHBvc3Rjb2RlKSBhcyBzdHJpbmcsXG4gICAgICAgIHN1YkRpc3RyaWN0OiB0b1N1YkRpc3RyaWN0KHBvc3Rjb2RlKSxcbiAgICAgICAgc2VjdG9yOiB0b1NlY3Rvcihwb3N0Y29kZSkgYXMgc3RyaW5nLFxuICAgICAgICB1bml0OiB0b1VuaXQocG9zdGNvZGUpIGFzIHN0cmluZyxcbiAgICB9O1xufTtcblxuLyoqXG4gKiBTZWFyY2hlcyBhIGJvZHkgb2YgdGV4dCBmb3IgcG9zdGNvZGUgbWF0Y2hlc1xuICpcbiAqIFJldHVybnMgYW4gZW1wdHkgYXJyYXkgaWYgbm8gbWF0Y2hcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYFxuICogLy8gUmV0cmlldmUgdmFsaWQgcG9zdGNvZGVzIGluIGEgYm9keSBvZiB0ZXh0XG4gKiBjb25zdCBtYXRjaGVzID0gbWF0Y2goXCJUaGUgUE0gYW5kIGhlciBuby4yIGxpdmUgYXQgU1cxQTJhYSBhbmQgU1cxQSAyQUJcIik7IC8vID0+IFtcIlNXMUEyYWFcIiwgXCJTVzFBIDJBQlwiXVxuICpcbiAqIC8vIFBlcmZvcm0gdHJhbnNmb3JtYXRpb25zIGxpa2Ugbm9ybWFsaXNhdGlvbiBwb3N0Y29kZXMgdXNpbmcgYC5tYXBgIGFuZCBgdG9Ob3JtYWxpc2VkYFxuICogbWF0Y2hlcy5tYXAodG9Ob3JtYWxpc2VkKTsgLy8gPT4gW1wiU1cxQSAyQUFcIiwgXCJTVzFBIDJBQlwiXVxuICpcbiAqIC8vIE5vIG1hdGNoZXMgeWllbGRzIGVtcHR5IGFycmF5XG4gKiBtYXRjaChcIlNvbWUgTG9uZG9uIG91dHdhcmQgY29kZXMgYXJlIFNXMUEsIE5XMSBhbmQgRTFcIik7IC8vID0+IFtdXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IG1hdGNoID0gKGNvcnB1czogc3RyaW5nKTogc3RyaW5nW10gPT5cbiAgICBjb3JwdXMubWF0Y2goUE9TVENPREVfQ09SUFVTX1JFR0VYKSB8fCBbXTtcblxuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmludGVyZmFjZSBSZXBsYWNlUmVzdWx0IHtcbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIG1hdGNoaW5nIHBvc3Rjb2RlcyBmb3VuZCBpbnRleHRcbiAgICAgKi9cbiAgICBtYXRjaDogc3RyaW5nW107XG4gICAgLyoqXG4gICAgICogQm9keSBvZiB0ZXh0IHdpdGggcG9zdGNvZGVzIHJlcGxhY2VkICh3aXRoIGVtcHR5IHN0cmluZyBieSBkZWZhdWx0KVxuICAgICAqL1xuICAgIHJlc3VsdDogc3RyaW5nO1xufVxuXG4vKipcbiAqIFJlcGxhY2VzIHBvc3Rjb2RlcyBpbiBhIGJvZHkgb2YgdGV4dCB3aXRoIGEgc3RyaW5nXG4gKlxuICogQnkgZGVmYXVsdCB0aGUgcmVwbGFjZW1lbnQgc3RyaW5nIGlzIGVtcHR5IHN0cmluZyBgXCJcImBcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYFxuICogLy8gUmVwbGFjZSBwb3N0Y29kZXMgaW4gYSBib2R5IG9mIHRleHRcbiAqIHJlcGxhY2UoXCJUaGUgUE0gYW5kIGhlciBuby4yIGxpdmUgYXQgU1cxQTJBQSBhbmQgU1cxQSAyQUJcIik7XG4gKiAvLyA9PiB7IG1hdGNoOiBbXCJTVzFBMkFBXCIsIFwiU1cxQSAyQUJcIl0sIHJlc3VsdDogXCJUaGUgUE0gYW5kIGhlciBuby4yIGxpdmUgYXQgIGFuZCBcIiB9XG4gKlxuICogLy8gQWRkIGN1c3RvbSByZXBsYWNlbWVudFxuICogcmVwbGFjZShcIlRoZSBQTSBsaXZlcyBhdCBTVzFBIDJBQVwiLCBcIkRvd25pbmcgU3RyZWV0XCIpO1xuICogLy8gPT4geyBtYXRjaDogW1wiU1cxQSAyQUFcIl0sIHJlc3VsdDogXCJUaGUgUE0gbGl2ZXMgYXQgRG93bmluZyBTdHJlZXRcIiB9O1xuICpcbiAqIC8vIE5vIG1hdGNoXG4gKiByZXBsYWNlKFwiU29tZSBMb25kb24gb3V0d2FyZCBjb2RlcyBhcmUgU1cxQSwgTlcxIGFuZCBFMVwiKTtcbiAqIC8vID0+IHsgbWF0Y2g6IFtdLCByZXN1bHQ6IFwiU29tZSBMb25kb24gb3V0d2FyZCBjb2RlcyBhcmUgU1cxQSwgTlcxIGFuZCBFMVwiIH1cbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgcmVwbGFjZSA9IChjb3JwdXM6IHN0cmluZywgcmVwbGFjZVdpdGggPSBcIlwiKTogUmVwbGFjZVJlc3VsdCA9PiAoe1xuICAgIG1hdGNoOiBtYXRjaChjb3JwdXMpLFxuICAgIHJlc3VsdDogY29ycHVzLnJlcGxhY2UoUE9TVENPREVfQ09SUFVTX1JFR0VYLCByZXBsYWNlV2l0aCksXG59KTtcblxuZXhwb3J0IGNvbnN0IEZJWEFCTEVfUkVHRVggPSAvXlxccypbYS16MDFdezEsMn1bMC05b2ldW2EtelxcZF0/XFxzKlswLTlvaV1bYS16MDFdezJ9XFxzKiQvaTtcblxuLyoqXG4gKiBBdHRlbXB0cyB0byBmaXggYW5kIGNsZWFuIGEgcG9zdGNvZGUuIFNwZWNpZmljYWxseTpcbiAqIC0gUGVyZm9ybXMgY2hhcmFjdGVyIGNvbnZlcnNpb24gb24gb2J2aW91c2x5IHdyb25nIGFuZCBjb21tb25seSBtaXhlZCB1cCBsZXR0ZXJzIChlLmcuIE8gPT4gMCBhbmQgdmljZSB2ZXJzYSlcbiAqIC0gVHJpbXMgc3RyaW5nXG4gKiAtIFByb3Blcmx5IGFkZHMgc3BhY2UgYmV0d2VlbiBvdXR3YXJkIGFuZCBpbndhcmQgY29kZXNcbiAqXG4gKiBJZiB0aGUgcG9zdGNvZGUgY2Fubm90IGJlIGNvZXJjZWQgaW50byBhIHZhbGlkIGZvcm1hdCwgdGhlIG9yaWdpbmFsIHN0cmluZyBpcyByZXR1cm5lZFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBmaXgoXCIgU1cxQSAgMkFPXCIpID0+IFwiU1cxQSAyQU9cIiAvLyBQcm9wZXJseSBzcGFjZXNcbiAqIGZpeChcIlNXMUEgMkEwXCIpID0+IFwiU1cxQSAyQU9cIiAvLyAwIGlzIGNvZXJjZWQgaW50byBcIjBcIlxuICogYGBgXG4gKlxuICogQWltcyB0byBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggcGFyc2UgdG8gbWFrZSBwb3N0Y29kZSBlbnRyeSBtb3JlIGZvcmdpdmluZzpcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgamF2YXNjcmlwdFxuICogY29uc3QgeyBpbndhcmQgfSA9IHBhcnNlKGZpeChcIlNXMUEgMkEwXCIpKTsgLy8gaW53YXJkID0gXCIyQU9cIlxuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCBmaXggPSAoczogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBtYXRjaCA9IHMubWF0Y2goRklYQUJMRV9SRUdFWCk7XG4gICAgaWYgKG1hdGNoID09PSBudWxsKSByZXR1cm4gcztcbiAgICBzID0gcy50b1VwcGVyQ2FzZSgpLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2dpLCBcIlwiKTtcbiAgICBjb25zdCBsID0gcy5sZW5ndGg7XG4gICAgY29uc3QgaW53YXJkID0gcy5zbGljZShsIC0gMywgbCk7XG4gICAgcmV0dXJuIGAke2NvZXJjZU91dGNvZGUocy5zbGljZSgwLCBsIC0gMykpfSAke2NvZXJjZShcIk5MTFwiLCBpbndhcmQpfWA7XG59O1xuXG5jb25zdCB0b0xldHRlcjogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICBcIjBcIjogXCJPXCIsXG4gICAgXCIxXCI6IFwiSVwiLFxufTtcblxuY29uc3QgdG9OdW1iZXI6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgTzogXCIwXCIsXG4gICAgSTogXCIxXCIsXG59O1xuXG5jb25zdCBjb2VyY2VPdXRjb2RlID0gKGk6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgaWYgKGkubGVuZ3RoID09PSAyKSByZXR1cm4gY29lcmNlKFwiTE5cIiwgaSk7XG4gICAgaWYgKGkubGVuZ3RoID09PSAzKSByZXR1cm4gY29lcmNlKFwiTD8/XCIsIGkpO1xuICAgIGlmIChpLmxlbmd0aCA9PT0gNCkgcmV0dXJuIGNvZXJjZShcIkxMTj9cIiwgaSk7XG4gICAgcmV0dXJuIGk7XG59O1xuXG4vKipcbiAqIEdpdmVuIGEgcGF0dGVybiBvZiBsZXR0ZXJzLCBudW1iZXJzIGFuZCB1bmtub3ducyByZXByZXNlbnRlZCBhcyBhIHNlcXVlbmNlXG4gKiBvZiBMLCBOcyBhbmQgPyByZXNwZWN0aXZlbHk7IGNvZXJjZSB0aGVtIGludG8gdGhlIGNvcnJlY3QgdHlwZSBnaXZlbiBhXG4gKiBtYXBwaW5nIG9mIHBvdGVudGlhbGx5IGNvbmZ1c2VkIGxldHRlcnNcbiAqXG4gKiBAaGlkZGVuXG4gKlxuICogQGV4YW1wbGUgY29lcmNlKFwiTExOXCIsIFwiME84XCIpID0+IFwiT084XCJcbiAqL1xuY29uc3QgY29lcmNlID0gKHBhdHRlcm46IHN0cmluZywgaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PlxuICAgIGlucHV0XG4gICAgICAgIC5zcGxpdChcIlwiKVxuICAgICAgICAucmVkdWNlPHN0cmluZ1tdPigoYWNjLCBjLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBwYXR0ZXJuLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IFwiTlwiKSBhY2MucHVzaCh0b051bWJlcltjXSB8fCBjKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IFwiTFwiKSBhY2MucHVzaCh0b0xldHRlcltjXSB8fCBjKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IFwiP1wiKSBhY2MucHVzaChjKTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIFtdKVxuICAgICAgICAuam9pbihcIlwiKTsiXX0=\n","import { areAnalyticsAccepted } from './cookie-functions';\nimport { toOutcode } from './postcode';\nfunction gtag(command, ...args) {\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push(arguments);\n}\nlet GaMeasurementId = '';\nexport default function initAnalytics(gaMeasurementId) {\n    // if the environment doesn't have a measurement id, don't load analytics\n    if (!Boolean(gaMeasurementId)) {\n        return;\n    }\n    GaMeasurementId = gaMeasurementId;\n    setDefaultConsent();\n    loadGaScript(gaMeasurementId);\n    gtag('js', new Date());\n    const pageViewParams = getPiiSafePageView(gaMeasurementId);\n    // set the config for auto generated events other than page_view\n    gtag('config', gaMeasurementId, {\n        send_page_view: false,\n        page_path: pageViewParams.page_path,\n        page_location: pageViewParams.page_location,\n        page_referrer: pageViewParams.referrer,\n        cookie_flags: 'secure'\n    });\n    if (areAnalyticsAccepted()) {\n        updateAnalyticsStorageConsent(true);\n    }\n    sendPageViewEvent();\n}\nfunction setDefaultConsent() {\n    gtag('consent', 'default', {\n        'analytics_storage': 'denied'\n    });\n    gtag('set', 'url_passthrough', true);\n}\nexport function updateAnalyticsStorageConsent(granted, delayMs) {\n    let options = {\n        'analytics_storage': granted ? 'granted' : 'denied'\n    };\n    if (typeof delayMs !== 'undefined') {\n        options['wait_for_update'] = delayMs;\n    }\n    gtag('consent', 'update', options);\n}\nexport function sendPageViewEvent() {\n    // send the page_view event manually (https://developers.google.com/analytics/devguides/collection/gtagjs/pages#default_behavior)\n    gtag('event', 'page_view', getPiiSafePageView(GaMeasurementId));\n}\nexport function sendAnalyticsCustomEvent(accepted, source) {\n    gtag('event', 'analytics', {\n        'accepted': accepted,\n        'source': source\n    });\n}\nfunction loadGaScript(gaMeasurementId) {\n    const f = document.getElementsByTagName('script')[0];\n    const j = document.createElement('script');\n    j.async = true;\n    j.src = 'https://www.googletagmanager.com/gtag/js?id=' + gaMeasurementId;\n    f.parentNode.insertBefore(j, f);\n}\nfunction getPiiSafePageView(gaMeasurementId) {\n    const pageView = {\n        page_title: document.title,\n        send_to: gaMeasurementId,\n        referrer: '',\n        page_location: '',\n        page_path: ''\n    };\n    //todo: set as referrer or page_referrer in pageView - does it matter? is it only picking it up from the config?\n    //todo: get piisafe referrer function\n    if (document.referrer !== '') {\n        const referrerUrl = new URL(document.referrer);\n        const piiSafeReferrerQueryString = getPiiSafeQueryString(referrerUrl.search);\n        if (piiSafeReferrerQueryString == null) {\n            pageView.referrer = document.referrer;\n        }\n        else {\n            const urlArray = document.referrer.split('?');\n            pageView.referrer = urlArray[0] + piiSafeReferrerQueryString;\n        }\n    }\n    const piiSafeQueryString = getPiiSafeQueryString(window.location.search);\n    if (piiSafeQueryString == null) {\n        pageView.page_location = window.location.href;\n        pageView.page_path = window.location.pathname + window.location.search;\n        return pageView;\n    }\n    const urlArray = window.location.href.split('?');\n    pageView.page_location = urlArray[0] + piiSafeQueryString;\n    pageView.page_path = window.location.pathname + piiSafeQueryString;\n    return pageView;\n}\nfunction getPiiSafeQueryString(queryString) {\n    //todo: for safety, convert to lowercase, so that if the user changes the case of the url, we still don't collect pii\n    const queryParams = new URLSearchParams(queryString);\n    let postcode = queryParams.get('postcode');\n    if (postcode == null) {\n        // null indicates original query params were already pii safe\n        return null;\n    }\n    postcode = toOutcode(postcode);\n    queryParams.set('postcode', postcode);\n    queryParams.delete('latitude');\n    queryParams.delete('longitude');\n    return '?' + queryParams.toString();\n}\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvYW5hbHl0aWNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLG9CQUFvQixDQUFBO0FBQ3pELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxZQUFZLENBQUE7QUFFdEMsU0FBUyxJQUFJLENBQUMsT0FBZSxFQUFFLEdBQUcsSUFBVztJQUN6QyxNQUFNLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxTQUFTLElBQUksRUFBRSxDQUFDO0lBQzFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ3JDLENBQUM7QUFFRCxJQUFJLGVBQWUsR0FBVyxFQUFFLENBQUM7QUFFakMsTUFBTSxDQUFDLE9BQU8sVUFBVSxhQUFhLENBQUMsZUFBdUI7SUFFekQseUVBQXlFO0lBQ3pFLElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLEVBQUU7UUFDM0IsT0FBTztLQUNWO0lBRUQsZUFBZSxHQUFHLGVBQWUsQ0FBQztJQUVsQyxpQkFBaUIsRUFBRSxDQUFDO0lBRXBCLFlBQVksQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUU5QixJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQztJQUV2QixNQUFNLGNBQWMsR0FBRyxrQkFBa0IsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUUzRCxnRUFBZ0U7SUFDaEUsSUFBSSxDQUFDLFFBQVEsRUFBRSxlQUFlLEVBQUU7UUFDNUIsY0FBYyxFQUFFLEtBQUs7UUFDckIsU0FBUyxFQUFFLGNBQWMsQ0FBQyxTQUFTO1FBQ25DLGFBQWEsRUFBRSxjQUFjLENBQUMsYUFBYTtRQUMzQyxhQUFhLEVBQUUsY0FBYyxDQUFDLFFBQVE7UUFDdEMsWUFBWSxFQUFFLFFBQVE7S0FDekIsQ0FBQyxDQUFDO0lBRUgsSUFBSSxvQkFBb0IsRUFBRSxFQUFFO1FBQ3hCLDZCQUE2QixDQUFDLElBQUksQ0FBQyxDQUFDO0tB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QUFRLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO1FBRXZFLE9BQU8sUUFBUSxDQUFDO0tBQ25CO0lBRUQsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRWpELFFBQVEsQ0FBQyxhQUFhLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLGtCQUFrQixDQUFDO0lBQzFELFFBQVEsQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsa0JBQWtCLENBQUM7SUFFbkUsT0FBTyxRQUFRLENBQUM7QUFDcEIsQ0FBQztBQUVELFNBQVMscUJBQXFCLENBQUMsV0FBbUI7SUFFOUMscUhBQXFIO0lBQ3JILE1BQU0sV0FBVyxHQUFHLElBQUksZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBRXJELElBQUksUUFBUSxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDM0MsSUFBSSxRQUFRLElBQUksSUFBSSxFQUFFO1FBQ2xCLDZEQUE2RDtRQUM3RCxPQUFPLElBQUksQ0FBQztLQUNmO0lBRUQsUUFBUSxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMvQixXQUFXLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUN0QyxXQUFXLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQy9CLFdBQVcsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7SUFFaEMsT0FBTyxHQUFHLEdBQUcsV0FBVyxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQ3hDLENBQUMiLCJmaWxlIjoiY29tcG9uZW50cy9hbmFseXRpY3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IGFyZUFuYWx5dGljc0FjY2VwdGVkIH0gZnJvbSAnLi9jb29raWUtZnVuY3Rpb25zJ1xuaW1wb3J0IHsgdG9PdXRjb2RlIH0gZnJvbSAnLi9wb3N0Y29kZSdcblxuZnVuY3Rpb24gZ3RhZyhjb21tYW5kOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgd2luZG93LmRhdGFMYXllciA9IHdpbmRvdy5kYXRhTGF5ZXIgfHwgW107XG4gICAgd2luZG93LmRhdGFMYXllci5wdXNoKGFyZ3VtZW50cyk7XG59XG5cbmxldCBHYU1lYXN1cmVtZW50SWQ6IHN0cmluZyA9ICcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0QW5hbHl0aWNzKGdhTWVhc3VyZW1lbnRJZDogc3RyaW5nKSB7XG5cbiAgICAvLyBpZiB0aGUgZW52aXJvbm1lbnQgZG9lc24ndCBoYXZlIGEgbWVhc3VyZW1lbnQgaWQsIGRvbid0IGxvYWQgYW5hbHl0aWNzXG4gICAgaWYgKCFCb29sZWFuKGdhTWVhc3VyZW1lbnRJZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEdhTWVhc3VyZW1lbnRJZCA9IGdhTWVhc3VyZW1lbnRJZDtcblxuICAgIHNldERlZmF1bHRDb25zZW50KCk7XG5cbiAgICBsb2FkR2FTY3JpcHQoZ2FNZWFzdXJlbWVudElkKTtcblxuICAgIGd0YWcoJ2pzJywgbmV3IERhdGUoKSk7XG5cbiAgICBjb25zdCBwYWdlVmlld1BhcmFtcyA9IGdldFBpaVNhZmVQYWdlVmlldyhnYU1lYXN1cmVtZW50SWQpO1xuXG4gICAgLy8gc2V0IHRoZSBjb25maWcgZm9yIGF1dG8gZ2VuZXJhdGVkIGV2ZW50cyBvdGhlciB0aGFuIHBhZ2Vfdmlld1xuICAgIGd0YWcoJ2NvbmZpZycsIGdhTWVhc3VyZW1lbnRJZCwge1xuICAgICAgICBzZW5kX3BhZ2VfdmlldzogZmFsc2UsIFxuICAgICAgICBwYWdlX3BhdGg6IHBhZ2VWaWV3UGFyYW1zLnBhZ2VfcGF0aCxcbiAgICAgICAgcGFnZV9sb2NhdGlvbjogcGFnZVZpZXdQYXJhbXMucGFnZV9sb2NhdGlvbixcbiAgICAgICAgcGFnZV9yZWZlcnJlcjogcGFnZVZpZXdQYXJhbXMucmVmZXJyZXIsXG4gICAgICAgIGNvb2tpZV9mbGFnczogJ3NlY3VyZSdcbiAgICB9KTtcblxuICAgIGlmIChhcmVBbmFseXRpY3NBY2NlcHRlZCgpKSB7XG4gICAgICAgIHVwZGF0ZUFuYWx5dGljc1N0b3JhZ2VDb25zZW50KHRydWUpO1xuICAgIH1cblxuICAgIHNlbmRQYWdlVmlld0V2ZW50KCk7XG59XG5cbmZ1bmN0aW9uIHNldERlZmF1bHRDb25zZW50KCkge1xuICAgIGd0YWcoJ2NvbnNlbnQnLCAnZGVmYXVsdCcsIHtcbiAgICAgICAgJ2FuYWx5dGljc19zdG9yYWdlJzogJ2RlbmllZCdcbiAgICB9KTtcblxuICAgIGd0YWcoJ3NldCcsICd1cmxfcGFzc3Rocm91Z2gnLCB0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUFuYWx5dGljc1N0b3JhZ2VDb25zZW50KGdyYW50ZWQ6IGJvb2xlYW4sIGRlbGF5TXM/OiBudW1iZXIpIHtcblxuICAgIGxldCBvcHRpb25zID0ge1xuICAgICAgICAnYW5hbHl0aWNzX3N0b3JhZ2UnOiBncmFudGVkID8gJ2dyYW50ZWQnIDogJ2RlbmllZCdcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBkZWxheU1zICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvcHRpb25zWyd3YWl0X2Zvcl91cGRhdGUnXSA9IGRlbGF5TXM7XG4gICAgfVxuXG4gICAgZ3RhZygnY29uc2VudCcsICd1cGRhdGUnLCBvcHRpb25zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRQYWdlVmlld0V2ZW50KCkge1xuICAgIC8vIHNlbmQgdGhlIHBhZ2VfdmlldyBldmVudCBtYW51YWxseSAoaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYW5hbHl0aWNzL2Rldmd1aWRlcy9jb2xsZWN0aW9uL2d0YWdqcy9wYWdlcyNkZWZhdWx0X2JlaGF2aW9yKVxuICAgIGd0YWcoJ2V2ZW50JywgJ3BhZ2VfdmlldycsIGdldFBpaVNhZmVQYWdlVmlldyhHYU1lYXN1cmVtZW50SWQpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRBbmFseXRpY3NDdXN0b21FdmVudChhY2NlcHRlZDogYm9vbGVhbiwgc291cmNlOiBzdHJpbmcpIHtcblxuICAgIGd0YWcoJ2V2ZW50JywgJ2FuYWx5dGljcycsIHtcbiAgICAgICAgJ2FjY2VwdGVkJzogYWNjZXB0ZWQsXG4gICAgICAgICdzb3VyY2UnOiBzb3VyY2VcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZEdhU2NyaXB0KGdhTWVhc3VyZW1lbnRJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgZiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgICBjb25zdCBqID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgai5hc3luYyA9IHRydWU7XG4gICAgai5zcmMgPSAnaHR0cHM6Ly93d3cuZ29vZ2xldGFnbWFuYWdlci5jb20vZ3RhZy9qcz9pZD0nICsgZ2FNZWFzdXJlbWVudElkO1xuICAgIGYucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaiwgZik7XG59XG5cbmZ1bmN0aW9uIGdldFBpaVNhZmVQYWdlVmlldyhnYU1lYXN1cmVtZW50SWQ6IHN0cmluZykge1xuXG4gICAgY29uc3QgcGFnZVZpZXcgPSB7XG4gICAgICAgIHBhZ2VfdGl0bGU6IGRvY3VtZW50LnRpdGxlLFxuICAgICAgICBzZW5kX3RvOiBnYU1lYXN1cmVtZW50SWQsXG4gICAgICAgIHJlZmVycmVyOiAnJyxcbiAgICAgICAgcGFnZV9sb2NhdGlvbjogJycsXG4gICAgICAgIHBhZ2VfcGF0aDogJydcbiAgICB9O1xuXG4gICAgLy90b2RvOiBzZXQgYXMgcmVmZXJyZXIgb3IgcGFnZV9yZWZlcnJlciBpbiBwYWdlVmlldyAtIGRvZXMgaXQgbWF0dGVyPyBpcyBpdCBvbmx5IHBpY2tpbmcgaXQgdXAgZnJvbSB0aGUgY29uZmlnP1xuICAgIC8vdG9kbzogZ2V0IHBpaXNhZmUgcmVmZXJyZXIgZnVuY3Rpb25cbiAgICBpZiAoZG9jdW1lbnQucmVmZXJyZXIgIT09ICcnKSB7XG4gICAgICAgIGNvbnN0IHJlZmVycmVyVXJsID0gbmV3IFVSTChkb2N1bWVudC5yZWZlcnJlcik7XG4gICAgICAgIGNvbnN0IHBpaVNhZmVSZWZlcnJlclF1ZXJ5U3RyaW5nID0gZ2V0UGlpU2FmZVF1ZXJ5U3RyaW5nKHJlZmVycmVyVXJsLnNlYXJjaCk7XG4gICAgICAgIGlmIChwaWlTYWZlUmVmZXJyZXJRdWVyeVN0cmluZyA9PSBudWxsKSB7XG4gICAgICAgICAgICBwYWdlVmlldy5yZWZlcnJlciA9IGRvY3VtZW50LnJlZmVycmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdXJsQXJyYXkgPSBkb2N1bWVudC5yZWZlcnJlci5zcGxpdCgnPycpO1xuXG4gICAgICAgICAgICBwYWdlVmlldy5yZWZlcnJlciA9IHVybEFycmF5WzBdICsgcGlpU2FmZVJlZmVycmVyUXVlcnlTdHJpbmc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwaWlTYWZlUXVlcnlTdHJpbmcgPSBnZXRQaWlTYWZlUXVlcnlTdHJpbmcod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG5cbiAgICBpZiAocGlpU2FmZVF1ZXJ5U3RyaW5nID09IG51bGwpIHtcbiAgICAgICAgcGFnZVZpZXcucGFnZV9sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICBwYWdlVmlldy5wYWdlX3BhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xuXG4gICAgICAgIHJldHVybiBwYWdlVmlldztcbiAgICB9XG5cbiAgICBjb25zdCB1cmxBcnJheSA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCc/Jyk7XG5cbiAgICBwYWdlVmlldy5wYWdlX2xvY2F0aW9uID0gdXJsQXJyYXlbMF0gKyBwaWlTYWZlUXVlcnlTdHJpbmc7XG4gICAgcGFnZVZpZXcucGFnZV9wYXRoID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgcGlpU2FmZVF1ZXJ5U3RyaW5nO1xuXG4gICAgcmV0dXJuIHBhZ2VWaWV3O1xufVxuXG5mdW5jdGlvbiBnZXRQaWlTYWZlUXVlcnlTdHJpbmcocXVlcnlTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuXG4gICAgLy90b2RvOiBmb3Igc2FmZXR5LCBjb252ZXJ0IHRvIGxvd2VyY2FzZSwgc28gdGhhdCBpZiB0aGUgdXNlciBjaGFuZ2VzIHRoZSBjYXNlIG9mIHRoZSB1cmwsIHdlIHN0aWxsIGRvbid0IGNvbGxlY3QgcGlpXG4gICAgY29uc3QgcXVlcnlQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHF1ZXJ5U3RyaW5nKTtcblxuICAgIGxldCBwb3N0Y29kZSA9IHF1ZXJ5UGFyYW1zLmdldCgncG9zdGNvZGUnKTtcbiAgICBpZiAocG9zdGNvZGUgPT0gbnVsbCkge1xuICAgICAgICAvLyBudWxsIGluZGljYXRlcyBvcmlnaW5hbCBxdWVyeSBwYXJhbXMgd2VyZSBhbHJlYWR5IHBpaSBzYWZlXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHBvc3Rjb2RlID0gdG9PdXRjb2RlKHBvc3Rjb2RlKTtcbiAgICBxdWVyeVBhcmFtcy5zZXQoJ3Bvc3Rjb2RlJywgcG9zdGNvZGUpO1xuICAgIHF1ZXJ5UGFyYW1zLmRlbGV0ZSgnbGF0aXR1ZGUnKTtcbiAgICBxdWVyeVBhcmFtcy5kZWxldGUoJ2xvbmdpdHVkZScpO1xuXG4gICAgcmV0dXJuICc/JyArIHF1ZXJ5UGFyYW1zLnRvU3RyaW5nKCk7XG59XG4iXX0=\n","import { getCookie } from './cookie-functions';\nexport function cookiesBanner() {\n    let $cookiesBanner = $('.govuk-cookie-banner');\n    let $cookiesBannerMessage = $('.govuk-cookie-banner__message');\n    let $cookiesBannerConfirmation = $('.govuk-cookie-banner__confirmation');\n    let $cookiesBannerAccepted = $('.govuk-cookie-banner__confirmation-message__accepted');\n    let $cookiesBannerRejected = $('.govuk-cookie-banner__confirmation-message__rejected');\n    let date = new Date();\n    date.setTime(date.getTime() + 24 * 60 * 60 * 1000 * 365);\n    let cookiesAccept = function () {\n        document.cookie = `referral_cookies_policy=accept; expires=date; path=/`;\n        $cookiesBannerMessage.addClass('govuk-hidden');\n        $cookiesBannerConfirmation.removeClass('govuk-hidden');\n        $cookiesBannerAccepted.removeClass('govuk-hidden');\n        $('#cookies-page-accepted').prop('checked', true);\n    };\n    let cookiesReject = function () {\n        deleteCookies();\n        document.cookie = `referral_cookies_policy=reject; expires=date; path=/`;\n        $cookiesBannerMessage.addClass('govuk-hidden');\n        $cookiesBannerConfirmation.removeClass('govuk-hidden');\n        $cookiesBannerRejected.removeClass('govuk-hidden');\n        $('#cookies-page-rejected').prop('checked', true);\n    };\n    let deleteCookies = function () {\n        let cookies = document.cookie.split(\";\");\n        for (let i = 0; i < cookies.length; i++) {\n            let equals = cookies[i].indexOf(\"=\");\n            let name = equals > -1 ? cookies[i].substr(0, equals) : cookies[i];\n            document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n        }\n    };\n    let cookie_value = getCookie('referral_cookies_policy');\n    if (typeof cookie_value === 'undefined') {\n        $cookiesBanner.removeClass('govuk-hidden');\n        $('#cookies-banner-accept').click(function () {\n            cookiesAccept();\n        });\n        $('#cookies-banner-reject').click(function () {\n            cookiesReject();\n        });\n        $('#cookies-banner-close').click(function () {\n            $cookiesBanner.addClass('govuk-hidden');\n        });\n    }\n    else if (cookie_value === 'accept') {\n        $('#cookies-page-accepted').prop('checked', true);\n    }\n    else if (cookie_value === 'reject') {\n        $('#cookies-page-rejected').prop('checked', true);\n    }\n    $('#cookies-page-save').click(function () {\n        if ($('#cookies-page-accepted').is(':checked')) {\n            cookiesAccept();\n            $('#cookies-saved-notification').removeClass('govuk-hidden');\n            $('html, body').animate({ scrollTop: 0 }, 'fast');\n        }\n        if ($('#cookies-page-rejected').is(':checked')) {\n            cookiesReject();\n            $('#cookies-saved-notification').removeClass('govuk-hidden');\n            $('html, body').animate({ scrollTop: 0 }, 'fast');\n        }\n    });\n}\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvY29va2llLWJhbm5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFL0MsTUFBTSxVQUFVLGFBQWE7SUFDNUIsSUFBSSxjQUFjLEdBQUcsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDL0MsSUFBSSxxQkFBcUIsR0FBRyxDQUFDLENBQUMsK0JBQStCLENBQUMsQ0FBQztJQUMvRCxJQUFJLDBCQUEwQixHQUFHLENBQUMsQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDO0lBQ3pFLElBQUksc0JBQXNCLEdBQUcsQ0FBQyxDQUFDLHNEQUFzRCxDQUFDLENBQUM7SUFDdkYsSUFBSSxzQkFBc0IsR0FBRyxDQUFDLENBQUMsc0RBQXNELENBQUMsQ0FBQztJQUN2RixJQUFJLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0lBRXRCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztJQUV6RCxJQUFJLGFBQWEsR0FBRztRQUNuQixRQUFRLENBQUMsTUFBTSxHQUFHLCtEQUErRCxDQUFDO1FBRWxGLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUMvQywwQkFBMEIsQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDdkQsc0JBQXNCLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ25ELENBQUMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDbkQsQ0FBQyxDQUFBO0lBRUQsSUFBSSxhQUFhLEdBQUc7UUFDbkIsYUFBYSxFQUFFLENBQUM7UUFDaEIsUUFBUSxDQUFDLE1BQU0sR0FBRywrREFBK0QsQ0FBQztRQUVsRixxQkFBcUIs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SixDQUFDIiwiZmlsZSI6ImNvbXBvbmVudHMvY29va2llLWJhbm5lci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldENvb2tpZSB9IGZyb20gJy4vY29va2llLWZ1bmN0aW9ucyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb29raWVzQmFubmVyKCkge1xuXHRsZXQgJGNvb2tpZXNCYW5uZXIgPSAkKCcuZ292dWstY29va2llLWJhbm5lcicpO1xuXHRsZXQgJGNvb2tpZXNCYW5uZXJNZXNzYWdlID0gJCgnLmdvdnVrLWNvb2tpZS1iYW5uZXJfX21lc3NhZ2UnKTtcblx0bGV0ICRjb29raWVzQmFubmVyQ29uZmlybWF0aW9uID0gJCgnLmdvdnVrLWNvb2tpZS1iYW5uZXJfX2NvbmZpcm1hdGlvbicpO1xuXHRsZXQgJGNvb2tpZXNCYW5uZXJBY2NlcHRlZCA9ICQoJy5nb3Z1ay1jb29raWUtYmFubmVyX19jb25maXJtYXRpb24tbWVzc2FnZV9fYWNjZXB0ZWQnKTtcblx0bGV0ICRjb29raWVzQmFubmVyUmVqZWN0ZWQgPSAkKCcuZ292dWstY29va2llLWJhbm5lcl9fY29uZmlybWF0aW9uLW1lc3NhZ2VfX3JlamVjdGVkJyk7XG5cdGxldCBkYXRlID0gbmV3IERhdGUoKTtcblxuXHRkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAyNCAqIDYwICogNjAgKiAxMDAwICogMzY1KTtcblxuXHRsZXQgY29va2llc0FjY2VwdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRkb2N1bWVudC5jb29raWUgPSBgc2VydmljZV9kaXJlY3RvcnlfY29va2llc19wb2xpY3k9YWNjZXB0OyBleHBpcmVzPWRhdGU7IHBhdGg9L2A7XG5cblx0XHQkY29va2llc0Jhbm5lck1lc3NhZ2UuYWRkQ2xhc3MoJ2dvdnVrLWhpZGRlbicpO1xuXHRcdCRjb29raWVzQmFubmVyQ29uZmlybWF0aW9uLnJlbW92ZUNsYXNzKCdnb3Z1ay1oaWRkZW4nKTtcblx0XHQkY29va2llc0Jhbm5lckFjY2VwdGVkLnJlbW92ZUNsYXNzKCdnb3Z1ay1oaWRkZW4nKTtcblx0XHQkKCcjY29va2llcy1wYWdlLWFjY2VwdGVkJykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuXHR9XG5cblx0bGV0IGNvb2tpZXNSZWplY3QgPSBmdW5jdGlvbiAoKSB7XG5cdFx0ZGVsZXRlQ29va2llcygpO1xuXHRcdGRvY3VtZW50LmNvb2tpZSA9IGBzZXJ2aWNlX2RpcmVjdG9yeV9jb29raWVzX3BvbGljeT1yZWplY3Q7IGV4cGlyZXM9ZGF0ZTsgcGF0aD0vYDtcblxuXHRcdCRjb29raWVzQmFubmVyTWVzc2FnZS5hZGRDbGFzcygnZ292dWstaGlkZGVuJyk7XG5cdFx0JGNvb2tpZXNCYW5uZXJDb25maXJtYXRpb24ucmVtb3ZlQ2xhc3MoJ2dvdnVrLWhpZGRlbicpO1xuXHRcdCRjb29raWVzQmFubmVyUmVqZWN0ZWQucmVtb3ZlQ2xhc3MoJ2dvdnVrLWhpZGRlbicpO1xuXHRcdCQoJyNjb29raWVzLXBhZ2UtcmVqZWN0ZWQnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG5cdH1cblxuXHRsZXQgZGVsZXRlQ29va2llcyA9IGZ1bmN0aW9uICgpIHtcblx0XHRsZXQgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIik7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgZXF1YWxzID0gY29va2llc1tpXS5pbmRleE9mKFwiPVwiKTtcblx0XHRcdGxldCBuYW1lID0gZXF1YWxzID4gLTEgPyBjb29raWVzW2ldLnN1YnN0cigwLCBlcXVhbHMpIDogY29va2llc1tpXTtcblx0XHRcdGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj07ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVFwiO1xuXHRcdH1cblx0fVxuXG5cdGxldCBjb29raWVfdmFsdWUgPSBnZXRDb29raWUoJ3NlcnZpY2VfZGlyZWN0b3J5X2Nvb2tpZXNfcG9saWN5Jyk7XG5cblx0aWYgKHR5cGVvZiBjb29raWVfdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0JGNvb2tpZXNCYW5uZXIucmVtb3ZlQ2xhc3MoJ2dvdnVrLWhpZGRlbicpO1xuXG5cdFx0JCgnI2Nvb2tpZXMtYmFubmVyLWFjY2VwdCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0XHRcdGNvb2tpZXNBY2NlcHQoKTtcblx0XHR9KTtcblxuXHRcdCQoJyNjb29raWVzLWJhbm5lci1yZWplY3QnKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cdFx0XHRjb29raWVzUmVqZWN0KCk7XG5cdFx0fSk7XG5cblx0XHQkKCcjY29va2llcy1iYW5uZXItY2xvc2UnKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cdFx0XHQkY29va2llc0Jhbm5lci5hZGRDbGFzcygnZ292dWstaGlkZGVuJyk7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoY29va2llX3ZhbHVlID09PSAnYWNjZXB0Jykge1xuXHRcdCQoJyNjb29raWVzLXBhZ2UtYWNjZXB0ZWQnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG5cdH0gZWxzZSBpZiAoY29va2llX3ZhbHVlID09PSAncmVqZWN0Jykge1xuXHRcdCQoJyNjb29raWVzLXBhZ2UtcmVqZWN0ZWQnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG5cdH1cblxuXHQkKCcjY29va2llcy1wYWdlLXNhdmUnKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCQoJyNjb29raWVzLXBhZ2UtYWNjZXB0ZWQnKS5pcygnOmNoZWNrZWQnKSkge1xuXHRcdFx0Y29va2llc0FjY2VwdCgpO1xuXHRcdFx0JCgnI2Nvb2tpZXMtc2F2ZWQtbm90aWZpY2F0aW9uJykucmVtb3ZlQ2xhc3MoJ2dvdnVrLWhpZGRlbicpO1xuXHRcdFx0JCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSwgJ2Zhc3QnKTtcblx0XHR9XG5cdFx0aWYgKCQoJyNjb29raWVzLXBhZ2UtcmVqZWN0ZWQnKS5pcygnOmNoZWNrZWQnKSkge1xuXHRcdFx0Y29va2llc1JlamVjdCgpO1xuXHRcdFx0JCgnI2Nvb2tpZXMtc2F2ZWQtbm90aWZpY2F0aW9uJykucmVtb3ZlQ2xhc3MoJ2dvdnVrLWhpZGRlbicpO1xuXHRcdFx0JCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSwgJ2Zhc3QnKTtcblx0XHR9XG5cdH0pO1xufSJdfQ==\n","import initAnalytics from './components/analytics';\nimport { cookiesBanner } from './components/cookie-banner';\ninitAnalytics(window.GA_MEASUREMENT_ID);\n(function ($) {\n    'use strict';\n    function fhgov() {\n        this.init = function () {\n            showHideFilters();\n            cookiesBanner();\n        };\n        let showHideFilters = function () {\n            $('.js-show-hide-filters').click(function (evt) {\n                evt.preventDefault();\n                $('.filters-component').toggleClass('app-results-filter-overlay');\n                $('body').toggleClass('app-results-filter-overlay-active');\n            });\n        };\n    }\n    window.fhgov = new fhgov();\n})(jQuery);\n//todo: move into $(document).ready()?\nwindow.fhgov.init();\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFXQSxPQUFPLGFBQWEsTUFBTSx3QkFBd0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFFM0QsYUFBYSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBRXhDLENBQUMsVUFBVSxDQUFDO0lBQ1gsWUFBWSxDQUFDO0lBQ2IsU0FBUyxLQUFLO1FBQ2IsSUFBSSxDQUFDLElBQUksR0FBRztZQUNYLGVBQWUsRUFBRSxDQUFDO1lBQ2xCLGFBQWEsRUFBRSxDQUFDO1FBQ2pCLENBQUMsQ0FBQztRQUVGLElBQUksZUFBZSxHQUFHO1lBQ3JCLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUc7Z0JBQzdDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFFckIsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLENBQUMsV0FBVyxDQUFDLDRCQUE0QixDQUFDLENBQUM7Z0JBQ2xFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLENBQUMsbUNBQW1DLENBQUMsQ0FBQztZQUM1RCxDQUFDLENBQUMsQ0FBQztRQUNKLENBQUMsQ0FBQTtJQUVGLENBQUM7SUFFRCxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7QUFDNUIsQ0FBQyxDQUNBLENBQUMsTUFBTSxDQUFDLENBQUM7QUFFVixzQ0FBc0M7QUFDdEMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyB9O1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgICAgIGZoZ292OiBhbnk7XG4gICAgICAgIEdBX01FQVNVUkVNRU5UX0lEOiBzdHJpbmc7XG4gICAgICAgIEdBX0NPTlRBSU5FUl9JRDogc3RyaW5nO1xuICAgICAgICBkYXRhTGF5ZXI6IGFueVtdO1xuICAgIH1cbn1cblxuaW1wb3J0IGluaXRBbmFseXRpY3MgZnJvbSAnLi9jb21wb25lbnRzL2FuYWx5dGljcyc7XG5pbXBvcnQgeyBjb29raWVzQmFubmVyIH0gZnJvbSAnLi9jb21wb25lbnRzL2Nvb2tpZS1iYW5uZXInO1xuXG5pbml0QW5hbHl0aWNzKHdpbmRvdy5HQV9NRUFTVVJFTUVOVF9JRCk7XG5cbihmdW5jdGlvbiAoJCkge1xuXHQndXNlIHN0cmljdCc7XG5cdGZ1bmN0aW9uIGZoZ292KCkge1xuXHRcdHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHNob3dIaWRlRmlsdGVycygpO1xuXHRcdFx0Y29va2llc0Jhbm5lcigpO1xuXHRcdH07XG5cblx0XHRsZXQgc2hvd0hpZGVGaWx0ZXJzID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0JCgnLmpzLXNob3ctaGlkZS1maWx0ZXJzJykuY2xpY2soZnVuY3Rpb24gKGV2dCkge1xuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHQkKCcuZmlsdGVycy1jb21wb25lbnQnKS50b2dnbGVDbGFzcygnYXBwLXJlc3VsdHMtZmlsdGVyLW92ZXJsYXknKTtcblx0XHRcdFx0JCgnYm9keScpLnRvZ2dsZUNsYXNzKCdhcHAtcmVzdWx0cy1maWx0ZXItb3ZlcmxheS1hY3RpdmUnKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHR9XG5cblx0d2luZG93LmZoZ292ID0gbmV3IGZoZ292KCk7XG59XG4pKGpRdWVyeSk7XG5cbi8vdG9kbzogbW92ZSBpbnRvICQoZG9jdW1lbnQpLnJlYWR5KCk/XG53aW5kb3cuZmhnb3YuaW5pdCgpOyJdfQ==\n"]}