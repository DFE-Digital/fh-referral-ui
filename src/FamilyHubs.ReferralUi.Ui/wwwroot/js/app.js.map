{"version":3,"sources":["tmp/js/app.js"],"names":["$","window","fhgov","this","init","showHideFilters","cookiesBanner","click","evt","preventDefault","toggleClass","$cookiesBanner","$cookiesBannerMessage","$cookiesBannerConfirmation","$cookiesBannerAccepted","$cookiesBannerRejected","date","Date","setTime","getTime","cookiesAccept","document","cookie","addClass","removeClass","prop","cookiesReject","deleteCookies","cookies","split","i","length","equals","indexOf","name","substr","cookie_value","cookieArr","cookiePair","trim","decodeURIComponent","getCookie","is","animate","scrollTop","jQuery"],"mappings":"CAAA,SAAWA,GAuFPC,OAAOC,MAAQ,IArFf,WACIC,KAAKC,KAAO,WACRC,IACAC,GACZ,EACQ,IAAID,EAAkB,WAClBL,EAAE,yBAAyBO,OAAM,SAAUC,GACvCA,EAAIC,iBACJT,EAAE,sBAAsBU,YAAY,8BACpCV,EAAE,QAAQU,YAAY,oCACtC,GACA,EACYJ,EAAgB,WAChB,IAAIK,EAAiBX,EAAE,wBACnBY,EAAwBZ,EAAE,iCAC1Ba,EAA6Bb,EAAE,sCAC/Bc,EAAyBd,EAAE,wDAC3Be,EAAyBf,EAAE,wDAC3BgB,EAAO,IAAIC,KACfD,EAAKE,QAAQF,EAAKG,UAAY,SAC9B,IAAIC,EAAgB,WAChBC,SAASC,OAAS,gEAClBV,EAAsBW,SAAS,gBAC/BV,EAA2BW,YAAY,gBACvCV,EAAuBU,YAAY,gBACnCxB,EAAE,0BAA0ByB,KAAK,WAAW,EAC5D,EACgBC,EAAgB,WAChBC,IACAN,SAASC,OAAS,gEAClBV,EAAsBW,SAAS,gBAC/BV,EAA2BW,YAAY,gBACvCT,EAAuBS,YAAY,gBACnCxB,EAAE,0BAA0ByB,KAAK,WAAW,EAC5D,EAUgBE,EAAgB,WAChB,IAAIC,EAAUP,SAASC,OAAOO,MAAM,KACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAQG,OAAQD,IAAK,CACrC,IAAIE,EAASJ,EAAQE,GAAGG,QAAQ,KAC5BC,EAAOF,GAAU,EAAIJ,EAAQE,GAAGK,OAAO,EAAGH,GAAUJ,EAAQE,GAChET,SAASC,OAASY,EAAO,yCAC7C,CACA,EACgBE,EAjBY,SAAUF,GACtB,IAAIG,EAAYhB,SAASC,OAAOO,MAAM,KACtC,IAAK,IAAIC,EAAI,EAAGA,EAAIO,EAAUN,OAAQD,IAAK,CACvC,IAAIQ,EAAaD,EAAUP,GAAGD,MAAM,KACpC,GAAIK,GAAQI,EAAW,GAAGC,OACtB,OAAOC,mBAAmBF,EAAW,GAE7D,CACA,CAS+BG,CAAU,yCACD,IAAjBL,GACPzB,EAAea,YAAY,gBAC3BxB,EAAE,0BAA0BO,OAAM,WAC9Ba,GACpB,IACgBpB,EAAE,0BAA0BO,OAAM,WAC9BmB,GACpB,IACgB1B,EAAE,yBAAyBO,OAAM,WAC7BI,EAAeY,SAAS,eAC5C,KAEsC,WAAjBa,EACLpC,EAAE,0BAA0ByB,KAAK,WAAW,GAEtB,WAAjBW,GACLpC,EAAE,0BAA0ByB,KAAK,WAAW,GAEhDzB,EAAE,sBAAsBO,OAAM,WACtBP,EAAE,0BAA0B0C,GAAG,cAC/BtB,IACApB,EAAE,+BAA+BwB,YAAY,gBAC7CxB,EAAE,cAAc2C,QAAQ,CAAEC,UAAW,GAAK,SAE1C5C,EAAE,0BAA0B0C,GAAG,cAC/BhB,IACA1B,EAAE,+BAA+BwB,YAAY,gBAC7CxB,EAAE,cAAc2C,QAAQ,CAAEC,UAAW,GAAK,QAE9D,GACA,CACA,CAEC,CAxFD,CAwFGC,QAEH5C,OAAOC,MAAME","file":"app.js","sourcesContent":["(function ($) {\n    'use strict';\n    function fhgov() {\n        this.init = function () {\n            showHideFilters();\n            cookiesBanner();\n        };\n        let showHideFilters = function () {\n            $('.js-show-hide-filters').click(function (evt) {\n                evt.preventDefault();\n                $('.filters-component').toggleClass('app-results-filter-overlay');\n                $('body').toggleClass('app-results-filter-overlay-active');\n            });\n        };\n        let cookiesBanner = function () {\n            let $cookiesBanner = $('.govuk-cookie-banner');\n            let $cookiesBannerMessage = $('.govuk-cookie-banner__message');\n            let $cookiesBannerConfirmation = $('.govuk-cookie-banner__confirmation');\n            let $cookiesBannerAccepted = $('.govuk-cookie-banner__confirmation-message__accepted');\n            let $cookiesBannerRejected = $('.govuk-cookie-banner__confirmation-message__rejected');\n            let date = new Date();\n            date.setTime(date.getTime() + 24 * 60 * 60 * 1000 * 365);\n            let cookiesAccept = function () {\n                document.cookie = `service_directory_cookies_policy=accept; expires=date; path=/`;\n                $cookiesBannerMessage.addClass('govuk-hidden');\n                $cookiesBannerConfirmation.removeClass('govuk-hidden');\n                $cookiesBannerAccepted.removeClass('govuk-hidden');\n                $('#cookies-page-accepted').prop('checked', true);\n            };\n            let cookiesReject = function () {\n                deleteCookies();\n                document.cookie = `service_directory_cookies_policy=reject; expires=date; path=/`;\n                $cookiesBannerMessage.addClass('govuk-hidden');\n                $cookiesBannerConfirmation.removeClass('govuk-hidden');\n                $cookiesBannerRejected.removeClass('govuk-hidden');\n                $('#cookies-page-rejected').prop('checked', true);\n            };\n            let getCookie = function (name) {\n                let cookieArr = document.cookie.split(\";\");\n                for (let i = 0; i < cookieArr.length; i++) {\n                    let cookiePair = cookieArr[i].split(\"=\");\n                    if (name == cookiePair[0].trim()) {\n                        return decodeURIComponent(cookiePair[1]);\n                    }\n                }\n            };\n            let deleteCookies = function () {\n                let cookies = document.cookie.split(\";\");\n                for (let i = 0; i < cookies.length; i++) {\n                    let equals = cookies[i].indexOf(\"=\");\n                    let name = equals > -1 ? cookies[i].substr(0, equals) : cookies[i];\n                    document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n                }\n            };\n            let cookie_value = getCookie('service_directory_cookies_policy');\n            if (typeof cookie_value === 'undefined') {\n                $cookiesBanner.removeClass('govuk-hidden');\n                $('#cookies-banner-accept').click(function () {\n                    cookiesAccept();\n                });\n                $('#cookies-banner-reject').click(function () {\n                    cookiesReject();\n                });\n                $('#cookies-banner-close').click(function () {\n                    $cookiesBanner.addClass('govuk-hidden');\n                });\n            }\n            else if (cookie_value === 'accept') {\n                $('#cookies-page-accepted').prop('checked', true);\n            }\n            else if (cookie_value === 'reject') {\n                $('#cookies-page-rejected').prop('checked', true);\n            }\n            $('#cookies-page-save').click(function () {\n                if ($('#cookies-page-accepted').is(':checked')) {\n                    cookiesAccept();\n                    $('#cookies-saved-notification').removeClass('govuk-hidden');\n                    $('html, body').animate({ scrollTop: 0 }, 'fast');\n                }\n                if ($('#cookies-page-rejected').is(':checked')) {\n                    cookiesReject();\n                    $('#cookies-saved-notification').removeClass('govuk-hidden');\n                    $('html, body').animate({ scrollTop: 0 }, 'fast');\n                }\n            });\n        };\n    }\n    window.fhgov = new fhgov();\n})(jQuery);\n//todo: move into $(document).ready()?\nwindow.fhgov.init();\nexport {};\n\n//# sourceMappingURL=data:application/json;charset=utf8;base64,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LENBQUMsSUFBSSxFQUFFLENBQUMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgfTtcclxuXHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICAgIGludGVyZmFjZSBXaW5kb3cge1xyXG4gICAgICAgIGZoZ292OiBhbnk7XHJcbiAgICB9XHJcbn1cclxuXHJcbihmdW5jdGlvbiAoJCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHRmdW5jdGlvbiBmaGdvdigpIHtcclxuXHRcdHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0c2hvd0hpZGVGaWx0ZXJzKCk7XHJcblx0XHRcdGNvb2tpZXNCYW5uZXIoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0bGV0IHNob3dIaWRlRmlsdGVycyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0JCgnLmpzLXNob3ctaGlkZS1maWx0ZXJzJykuY2xpY2soZnVuY3Rpb24gKGV2dCkge1xyXG5cdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0XHQkKCcuZmlsdGVycy1jb21wb25lbnQnKS50b2dnbGVDbGFzcygnYXBwLXJlc3VsdHMtZmlsdGVyLW92ZXJsYXknKTtcclxuXHRcdFx0XHQkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ2FwcC1yZXN1bHRzLWZpbHRlci1vdmVybGF5LWFjdGl2ZScpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgY29va2llc0Jhbm5lciA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0bGV0ICRjb29raWVzQmFubmVyID0gJCgnLmdvdnVrLWNvb2tpZS1iYW5uZXInKTtcclxuXHRcdFx0bGV0ICRjb29raWVzQmFubmVyTWVzc2FnZSA9ICQoJy5nb3Z1ay1jb29raWUtYmFubmVyX19tZXNzYWdlJyk7XHJcblx0XHRcdGxldCAkY29va2llc0Jhbm5lckNvbmZpcm1hdGlvbiA9ICQoJy5nb3Z1ay1jb29raWUtYmFubmVyX19jb25maXJtYXRpb24nKTtcclxuXHRcdFx0bGV0ICRjb29raWVzQmFubmVyQWNjZXB0ZWQgPSAkKCcuZ292dWstY29va2llLWJhbm5lcl9fY29uZmlybWF0aW9uLW1lc3NhZ2VfX2FjY2VwdGVkJyk7XHJcblx0XHRcdGxldCAkY29va2llc0Jhbm5lclJlamVjdGVkID0gJCgnLmdvdnVrLWNvb2tpZS1iYW5uZXJfX2NvbmZpcm1hdGlvbi1tZXNzYWdlX19yZWplY3RlZCcpO1xyXG5cdFx0XHRsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0XHRkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAyNCAqIDYwICogNjAgKiAxMDAwICogMzY1KTtcclxuXHJcblx0XHRcdGxldCBjb29raWVzQWNjZXB0ID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGRvY3VtZW50LmNvb2tpZSA9IGBzZXJ2aWNlX2RpcmVjdG9yeV9jb29raWVzX3BvbGljeT1hY2NlcHQ7IGV4cGlyZXM9ZGF0ZTsgcGF0aD0vYDtcclxuXHJcblx0XHRcdFx0JGNvb2tpZXNCYW5uZXJNZXNzYWdlLmFkZENsYXNzKCdnb3Z1ay1oaWRkZW4nKTtcclxuXHRcdFx0XHQkY29va2llc0Jhbm5lckNvbmZpcm1hdGlvbi5yZW1vdmVDbGFzcygnZ292dWstaGlkZGVuJyk7XHJcblx0XHRcdFx0JGNvb2tpZXNCYW5uZXJBY2NlcHRlZC5yZW1vdmVDbGFzcygnZ292dWstaGlkZGVuJyk7XHJcblx0XHRcdFx0JCgnI2Nvb2tpZXMtcGFnZS1hY2NlcHRlZCcpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGNvb2tpZXNSZWplY3QgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0ZGVsZXRlQ29va2llcygpO1xyXG5cdFx0XHRcdGRvY3VtZW50LmNvb2tpZSA9IGBzZXJ2aWNlX2RpcmVjdG9yeV9jb29raWVzX3BvbGljeT1yZWplY3Q7IGV4cGlyZXM9ZGF0ZTsgcGF0aD0vYDtcclxuXHJcblx0XHRcdFx0JGNvb2tpZXNCYW5uZXJNZXNzYWdlLmFkZENsYXNzKCdnb3Z1ay1oaWRkZW4nKTtcclxuXHRcdFx0XHQkY29va2llc0Jhbm5lckNvbmZpcm1hdGlvbi5yZW1vdmVDbGFzcygnZ292dWstaGlkZGVuJyk7XHJcblx0XHRcdFx0JGNvb2tpZXNCYW5uZXJSZWplY3RlZC5yZW1vdmVDbGFzcygnZ292dWstaGlkZGVuJyk7XHJcblx0XHRcdFx0JCgnI2Nvb2tpZXMtcGFnZS1yZWplY3RlZCcpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGdldENvb2tpZSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcblx0XHRcdFx0bGV0IGNvb2tpZUFyciA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIik7XHJcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjb29raWVBcnIubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdGxldCBjb29raWVQYWlyID0gY29va2llQXJyW2ldLnNwbGl0KFwiPVwiKTtcclxuXHRcdFx0XHRcdGlmIChuYW1lID09IGNvb2tpZVBhaXJbMF0udHJpbSgpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoY29va2llUGFpclsxXSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgZGVsZXRlQ29va2llcyA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRsZXQgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIik7XHJcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRsZXQgZXF1YWxzID0gY29va2llc1tpXS5pbmRleE9mKFwiPVwiKTtcclxuXHRcdFx0XHRcdGxldCBuYW1lID0gZXF1YWxzID4gLTEgPyBjb29raWVzW2ldLnN1YnN0cigwLCBlcXVhbHMpIDogY29va2llc1tpXTtcclxuXHRcdFx0XHRcdGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyBcIj07ZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVFwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bGV0IGNvb2tpZV92YWx1ZSA9IGdldENvb2tpZSgnc2VydmljZV9kaXJlY3RvcnlfY29va2llc19wb2xpY3knKTtcclxuXHJcblx0XHRcdGlmICh0eXBlb2YgY29va2llX3ZhbHVlID09PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdCRjb29raWVzQmFubmVyLnJlbW92ZUNsYXNzKCdnb3Z1ay1oaWRkZW4nKTtcclxuXHJcblx0XHRcdFx0JCgnI2Nvb2tpZXMtYmFubmVyLWFjY2VwdCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdGNvb2tpZXNBY2NlcHQoKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0JCgnI2Nvb2tpZXMtYmFubmVyLXJlamVjdCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdGNvb2tpZXNSZWplY3QoKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0JCgnI2Nvb2tpZXMtYmFubmVyLWNsb3NlJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0JGNvb2tpZXNCYW5uZXIuYWRkQ2xhc3MoJ2dvdnVrLWhpZGRlbicpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGNvb2tpZV92YWx1ZSA9PT0gJ2FjY2VwdCcpIHtcclxuXHRcdFx0XHQkKCcjY29va2llcy1wYWdlLWFjY2VwdGVkJykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGNvb2tpZV92YWx1ZSA9PT0gJ3JlamVjdCcpIHtcclxuXHRcdFx0XHQkKCcjY29va2llcy1wYWdlLXJlamVjdGVkJykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkKCcjY29va2llcy1wYWdlLXNhdmUnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKCQoJyNjb29raWVzLXBhZ2UtYWNjZXB0ZWQnKS5pcygnOmNoZWNrZWQnKSkge1xyXG5cdFx0XHRcdFx0Y29va2llc0FjY2VwdCgpO1xyXG5cdFx0XHRcdFx0JCgnI2Nvb2tpZXMtc2F2ZWQtbm90aWZpY2F0aW9uJykucmVtb3ZlQ2xhc3MoJ2dvdnVrLWhpZGRlbicpO1xyXG5cdFx0XHRcdFx0JCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSwgJ2Zhc3QnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKCQoJyNjb29raWVzLXBhZ2UtcmVqZWN0ZWQnKS5pcygnOmNoZWNrZWQnKSkge1xyXG5cdFx0XHRcdFx0Y29va2llc1JlamVjdCgpO1xyXG5cdFx0XHRcdFx0JCgnI2Nvb2tpZXMtc2F2ZWQtbm90aWZpY2F0aW9uJykucmVtb3ZlQ2xhc3MoJ2dvdnVrLWhpZGRlbicpO1xyXG5cdFx0XHRcdFx0JCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6IDAgfSwgJ2Zhc3QnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0d2luZG93LmZoZ292ID0gbmV3IGZoZ292KCk7XHJcbn1cclxuKShqUXVlcnkpO1xyXG5cclxuLy90b2RvOiBtb3ZlIGludG8gJChkb2N1bWVudCkucmVhZHkoKT9cclxud2luZG93LmZoZ292LmluaXQoKTsiXX0=\n"]}